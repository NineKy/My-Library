# 리플렉션

## Java Reflection?
리플렉션은 투영이라는 의미를 가진 단어이고 유추하기 힘들수도 있지만 이 API들의 의미는 <br>
클래스의 정보를 사용자에게 뱉어주는 그러한 기능을 가진 함수들이다 <br>
<br>

사실 클래스를 만드는데 있어서 클래스를 만드는데 이걸 모를 일은 그렇게 많을 것 같지는 않다 <br>
하지만 무언가를 만들다보면 클래스에 대한 정보를 요하는 경우가 있다 <br>
<br>

실제로 과거에 클래스 자체에 대한 정보는 아니더라도 해당 클래스에 선언되어 있는 필드들을 찾을 일이 있었다 <br>
그때는 이러한 기능? API? 가 있는줄도 모르고 정말 무식하게 접근했던 것 같다 <br>
그때는 진짜 클래스적고 점찍고 뭔 함수가 있나... 이건뭐지... 쓰고 실행해서 결과확인하고 이러한 과정을 통하다보니 <br>
클래스.getDeclaredFields() 이런거에서 값이 나오는 것을 보고 찾아서 사용하곤 했었다 <br>
아무튼 이렇게 결국은 언젠가 사용할 떄가 올 수 도 있다는 점을 기억해서 이렇게 조금이라도 남겨두려고 한다 <br>
<br>

## 클래스의 정보 조회
<br>

클래스를 정보를 가져오기 위해서는 해당 클래스의 인스턴스를 먼저 가져오고 객체로 만들어줘야 한다 <br>
클래스 객체에 생성, 접근하는 방법은 일단 크게 2가지가 있다 
```java
//1
Class<클래스> exClass1 = 클래스.class;

//2
클래스 exClass = new 클래스(); 
Class<? extends 클래스> exClass2 = exClass.getClass();
```
요런식으로 객체로 생성하는 것이 가능하다 <br>
첫 번째 방식은 바로 그냥 클래스의 인스턴스를 통해서 가져오는 방식이고, <br>
두 번째 방식은 해당 클래스 객체를 만들어둔 상태에서 그 객체를 통해서 클래스에 접근하는 방식이다 <br>
<br>

이외에도 클래스를 클래스의 경로와 이름까지 알고 있다면 경로를 통해서 가져오는 것도 가능하다 <br>
```java
Class<?> exClass3 = Class.forName("경로.경로.경로.클래스");
```
이렇게도 가져올 수 있는데 src/main/java 부터니까 그건 주의하고 사용하자 <br>

<br><br>

이렇게 클래스에 접근하는 방법을 알았으니 접근해서 사용할 수 있는 것들을 보자 <br><br>

일단 클래스를 가져왔으면 클래스 내부에 선언되어 있는 필드들에 접근할 수 있다 <br>
```java
Fields[] fieldArr = exClass2.getFields();
Fields[] fieldArrAll = exClass2.getDeclaredFields();
```
하지만 .getFields()로 가져온 배열을 막상 보면, public으로 선언되어 있는 필드만 나오게 된다 <br>
근데 사실 적어도 클래스에 선언된 모든 필드가 나와야 뭘 구별하고 하지 않겠니 <br>
그럴때 사용하는게 .getDeclaredFields()이다 <br>
요걸 사용하게 되면 해당 클래스에 선언된 모든 필드가 촤라락 뽑혀나온다 <br>
하지만 .getDeclaredFields()을 통해서 뽑은 필드에서 private이나 protected에 막상 접근하려고하면 막 접근 Exception이 떨궈질 수 있다 <br>
그럴때는 해당필드.setAccessible(true) 요 함수를 통해서 뽑은 Field객체에 접근할 수 있게 해주면 좋다 <br>
<br><br>

필드 이외에도, getMethods(), getConstructors(), getSuperClass(), getInterfaces() 등을 통해서 <br>
해당 클래스 내부에 있는 모든 메소드, 생성자, 부모클래스, 인터페이스 등에 접근하는 것이 가능하다 <br>

그리고 이렇게 클래스와 관련된 값들을 가져오는 함수들에 모두 빈값을 주게되면 모든 필드를 가져오게 되지만 <br>
특정 이름을 적어주면 해당 이름을 가진 특정 값를 가져오게 된다 <br>
<br><br>

이렇게 가져온 값들에 대한 특징들도 확인하는 것이 가능하다 <br>
값을 위의 다양한 메소드들을 통해서 가져왔을 때 .getModifiers()을 통해서 int 타입으로 Modifier를 받을 수 있다 <br>
그리고 int타입으로 받은 modifier에 대한 값을 확인하는 방법은 Modifier.isPrivate(받은 int값) 이나 Modifier.isStatic(받은 int값) 등을 통해서 진행하능 <br>
다양하게 있으니까 원하는 건 찾아서 적용하자 <br>








